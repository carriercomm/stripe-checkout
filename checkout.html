<!--
- Stripe sample checkout
- author: John Collison <john@stripe.com>
-
- Copyright (c) 2011 Stripe, Inc.
- Licensed under the MIT license:
- http://www.opensource.org/licenses/mit-license.php
-->

<html>
  <head>
	  <title>Stripe checkout</title>
  </head>
  
  <body>
    <div id="checkout_form">
      <input name="number" placeholder="Card number" title="Card number" />
      <select name="exp_month"></select>
      <select name="exp_year"></select>
      <input name="pay" type="submit" value="Pay" onclick="javascript:pay()">
    </div>
    
    <script>
      var AMOUNT = 2000; // $20
      var STRIPE_API_KEY = 'pk_dHA9lrZx2If0QQyGU3aHUf8K8J5PW'; // Replace with your own
      
      function pay() {
        // do things
      }
      
      function month(num) {
        return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][num];
      }
      
      function init_expiries() {
        // Populate the expiry dropdowns
        var i = 1; while(i <= 12) {$('select[name=exp_month]').append('<option value="' + i + '">' + i + ' - ' + month(i-1) + '</option>'); i++}
        var y = new Date().getFullYear(); while (y <= (new Date().getFullYear() + 15)) {$('select[name=exp_year]').append('<option value="' + y + '">' + y + '</option>'); y++}
      }
      
      function descriptive_submit_button() {
        $('input[name=pay]').val('Pay $' + (AMOUNT/100.0).toFixed(2));
      }
      
      function init() {
        init_expiries();
        descriptive_submit_button();
      }
      window.onload = init;
    </script>
    
    <!-- Stripe's js lib doesn't require JQuery, but we'll use it here for convenience -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
    
    <script type="text/javascript" src="https://eta.stripe.com/stripe.js"></script>
  </body>
</html>